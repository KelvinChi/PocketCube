#!/usr/bin/env python3
# _*_ coding:utf-8 _*_


def encode_bit(n, num):
    big_table = '123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ' \
               'abcdefghijklmnopqrstuvwxyz!#$%&()*+,' \
               '-.:;<=>?@[]^_`{|}~' \
               '¡¢£¤¥¦§¨©ª«¬®¯°±²³´µ¶·¸¹º»¼½¾¿' \
               'ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâ' \
               'ãäåæçèéêëìíîïðñòóôõö÷øùúûüýþÿ\'"\\/'
    table = big_table[:num]
    result = []
    temp = n
    if temp == 0:
        result.append('0')
    else:
        while temp > 0:
            result.append(table[int(temp % num) - 1])
            temp //= num
    return ''.join([x for x in reversed(result)])



def decode_bit(str, num):
    table = {'1': 1, '2': 2, '3': 3, '4': 4, '5': 5, '6': 6, '7': 7, '8': 8, '9': 9,
             'A': 10, 'B': 11, 'C': 12, 'D': 13, 'E': 14, 'F': 15, 'G': 16, 'H': 17, 'I': 18,
             'J': 19, 'K': 20, 'L': 21, 'M': 22, 'N': 23, 'O': 24, 'P': 25, 'Q': 26, 'R': 27,
             'S': 28, 'T': 29, 'U': 30, 'V': 31, 'W': 32, 'X': 33, 'Y': 34, 'Z': 35, 'a': 36,
             'b': 37, 'c': 38, 'd': 39, 'e': 40, 'f': 41, 'g': 42, 'h': 43, 'i': 44, 'j': 45,
             'k': 46, 'l': 47, 'm': 48, 'n': 49, 'o': 50, 'p': 51, 'q': 52, 'r': 53, 's': 54,
             't': 55, 'u': 56, 'v': 57, 'w': 58, 'x': 59, 'y': 60, 'z': 61, '!': 62, '#': 63,
             '$': 64, '%': 65, '&': 66, '(': 67, ')': 68, '*': 69, '+': 70, ',': 71, '-': 72,
             '.': 73, ':': 74, ';': 75, '<': 76, '=': 77, '>': 78, '?': 79, '@': 80, '[': 81,
             ']': 82, '^': 83, '_': 84, '`': 85, '{': 86, '|': 87, '}': 88, '~': 89, '': 90,
             '': 91, '': 92, '': 93, '': 94, '': 95, '': 96, '': 97, '': 98, '': 99,
             '': 100, '': 101, '': 102, '': 103, '': 104, '': 105, '': 106, '': 107,
             '': 108, '': 109, '': 110, '': 111, '': 112, '¡': 113, '¢': 114, '£': 115,
             '¤': 116, '¥': 117, '¦': 118, '§': 119, '¨': 120, '©': 121, 'ª': 122, '«': 123,
             '¬': 124, '®': 125, '¯': 126, '°': 127, '±': 128, '²': 129, '³': 130, '´': 131,
             'µ': 132, '¶': 133, '·': 134, '¸': 135, '¹': 136, 'º': 137, '»': 138, '¼': 139,
             '½': 140, '¾': 141, '¿': 142, 'À': 143, 'Á': 144, 'Â': 145, 'Ã': 146, 'Ä': 147,
             'Å': 148, 'Æ': 149, 'Ç': 150, 'È': 151, 'É': 152, 'Ê': 153, 'Ë': 154, 'Ì': 155,
             'Í': 156, 'Î': 157, 'Ï': 158, 'Ð': 159, 'Ñ': 160, 'Ò': 161, 'Ó': 162, 'Ô': 163,
             'Õ': 164, 'Ö': 165, '×': 166, 'Ø': 167, 'Ù': 168, 'Ú': 169, 'Û': 170, 'Ü': 171,
             'Ý': 172, 'Þ': 173, 'ß': 174, 'à': 175, 'á': 176, 'â': 177, 'ã': 178, 'ä': 179,
             'å': 180, 'æ': 181, 'ç': 182, 'è': 183, 'é': 184, 'ê': 185, 'ë': 186, 'ì': 187,
             'í': 188, 'î': 189, 'ï': 190, 'ð': 191, 'ñ': 192, 'ò': 193, 'ó': 194, 'ô': 195,
             'õ': 196, 'ö': 197, '÷': 198, 'ø': 199, 'ù': 200, 'ú': 201, 'û': 202, 'ü': 203,
             'ý': 204, 'þ': 205, 'ÿ': 206, "'": 207, '"': 208, '\\': 209, '/': 210}
    result = 0
    for i in range(len(str)):
        result *= num
        result += table[str[i]]
    return result


if __name__ == '__main__':
    a = 'BBABBABBABBA'
    b = decode_bit(a, 12)
    print(a, b, sep='\n')
    c = encode_bit(b, 210)
    print(c, len(c))
    print(decode_bit(c, 210), '\n')
